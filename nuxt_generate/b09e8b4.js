(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{428:function(e,t,r){var content=r(451);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(15).default)("4433e03e",content,!0,{sourceMap:!1})},450:function(e,t,r){"use strict";r(428)},451:function(e,t,r){var n=r(14)(!1);n.push([e.i,'h1[data-v-1674ea7e]{font-size:1.75rem}h1[data-v-1674ea7e],h2[data-v-1674ea7e]{color:#fbfbfb;font-weight:600;margin:0}h2[data-v-1674ea7e]{font-size:1.4rem}h3[data-v-1674ea7e]{color:#fbfbfb;margin:0;font-size:1.2rem;font-weight:600}p[data-v-1674ea7e]{font-size:12px;margin-top:.5rem;margin-bottom:.5rem}.flex-column[data-v-1674ea7e]{display:flex;flex-direction:column;align-items:center;justify-content:center}.round[data-v-1674ea7e]{border-radius:100%}.full-screen[data-v-1674ea7e]{position:fixed;padding:20px;top:0;height:calc(100vh - 40px);width:calc(100vw - 40px);left:0;z-index:200}.full-screen[data-v-1674ea7e],body[data-v-1674ea7e]{background:#121618;margin:0}body[data-v-1674ea7e]{color:#272727;font-family:"Montserrat";font-weight:300;font-size:12px}div[data-v-1674ea7e]{color:#121618}.light[data-v-1674ea7e],.light div[data-v-1674ea7e]{color:#fbfbfb}.card[data-v-1674ea7e]{background:#272727;color:#fff;border-radius:20px;padding:20px;box-shadow:6px 6px 16px 6px rgba(0,0,0,.15)}.card h2[data-v-1674ea7e]{color:#fbfbfb}.card-container[data-v-1674ea7e]{filter:drop-shadow(0 0 .75rem rgba(0,0,0,.288))}.light-card[data-v-1674ea7e]{background:#fbfbfb;color:#121618}.dark-card[data-v-1674ea7e],.light-card[data-v-1674ea7e]{border-radius:20px;padding:20px;margin:20px 0 0;box-shadow:6px 6px 16px 6px rgba(0,0,0,.15)}.dark-card[data-v-1674ea7e]{background:#272727}.dark-card[data-v-1674ea7e],.dark-card div[data-v-1674ea7e]{color:#fbfbfb}button[data-v-1674ea7e]{color:#121618;padding:20px;background:#8eb5db;border-radius:16px;font-size:14px;font-weight:500;font-family:"Montserrat";border:0;text-transform:uppercase;background:#fbbf05}.menu-item-text[data-v-1674ea7e]{color:#747274;font-family:-apple-system,system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont}.coupon-icon[data-v-1674ea7e]{fill:#fbbf05;width:36px;height:36px}.dark[data-v-1674ea7e]{color:#272727}.payment div[data-v-1674ea7e]{display:flex;flex-direction:column;margin-bottom:20px}.payment div div[data-v-1674ea7e]{font-size:14px;color:#fff;margin:8px 0 0}.payment div div.price[data-v-1674ea7e]{color:#fbbf05;font-size:16px;margin:6px 0 0}button[data-v-1674ea7e]{margin-top:16px}.match-fee[data-v-1674ea7e]{margin-top:100px;display:flex;flex-direction:column;align-items:space-between}.match-fee img[data-v-1674ea7e]{transform:rotate(-48deg);margin:-145px auto -76px;width:70vw}div div.time-left[data-v-1674ea7e]{background:#fbbf05;padding:12px 16px;border-radius:0 20px;margin:-20px -20px 0 0;align-self:flex-end;color:#272727}div div.time-left div[data-v-1674ea7e]{color:#272727;margin:auto;font-weight:500;text-transform:uppercase}.registration-fee img[data-v-1674ea7e]{width:30vw;margin:auto;padding:0;background:#121618;border-radius:50%;border:20px solid transparent}',""]),e.exports=n},486:function(e,t,r){"use strict";r.r(t);var n=r(2),o=(r(17),r(40),r(41),r(46),{data:function(){return{test:"price_1JgablH3xLMeoLZn2iNTd2e9",live:"price_1JcUfmH3xLMeoLZnHJ6C3qI7",livecheap:"price_1JgasrH3xLMeoLZn9Y3ZHQsN"}},computed:{matchesToPay:function(){var e=this;return this.$store.state.allMyGames.filter((function(t){return new Date>new Date(t.bookedtime)&&t.bookedtime!==t.newtime&&!e.$store.state.payments.matches.some((function(e){return e.match_id===t.ID}))}))}},mounted:function(){this.isSignUpFeePaid(),this.getPayedMatches()},methods:{isSignUpFeePaid:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$post("/payment/signup",{userID:e.$store.state.auth.user.ID}).then((function(e){return e.isFeePaid}));case 2:r=t.sent,e.$store.commit("signup",r);case 4:case"end":return t.stop()}}),t)})))()},getPayedMatches:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$post("/payment/matches",{userID:e.$store.state.auth.user.ID}).then((function(e){return e.payedMatches}));case 2:r=t.sent,e.$store.commit("matches",r);case 4:case"end":return t.stop()}}),t)})))()},startPayment:function(e){var t=e.priceID,r=e.type,n=e.matchID,o=e.city,c=e.league,body={priceID:t,metadata:{userID:this.$store.state.auth.user.ID,matchID:n,city:o,league:c,type:r}};this.$axios.$post("/create-checkout-session",body).then((function(e){console.log("success",e),window.location.replace(e)})).catch((function(e){console.log("decline",e),window.location.replace(e)}))}}}),c=(r(450),r(3)),component=Object(c.a)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"payment"},[e.$store.state.payments.signup?e._e():n("div",{staticClass:"card registration-fee"},[n("h2",[e._v("Anm√§lningsavgift")]),e._v(" "),n("div",{staticClass:"price"},[e._v("200 kr")]),e._v(" "),n("button",{on:{click:function(t){return e.startPayment({priceID:"price_1JcV5JH3xLMeoLZnSgIvPFep",type:"signup"})}}},[e._v("\n      Betala\n    ")])]),e._v(" "),e._l(e.matchesToPay,(function(t){return n("div",{key:t.ID,staticClass:"card match-fee"},[n("div",{staticClass:"time-left"},[n("div",[e._v("Match #"+e._s(t.ID))])]),e._v(" "),n("img",{attrs:{src:r(231),alt:""}}),e._v(" "),n("h2",[e._v("Matchkostnad")]),e._v(" "),n("div",{staticClass:"price"},[e._v(e._s(t.court_name)+" - 142 kr")]),e._v(" "),e._e(),e._v(" "),n("div",{on:{click:function(r){return e.startPayment({priceID:e.test,userID:e.$store.state.auth.user.ID,matchID:t.ID,city:e.$store.state.auth.user.city,league:e.$store.state.auth.user.league,type:"match"})}}},[n("button",[e._v("Betala nu")])])])}))],2)}),[],!1,null,"1674ea7e",null);t.default=component.exports}}]);